<!DOCTYPE html>
<html lang="en">
<head>
  <title>Convert to Postfix</title>
  <link rel="icon" type="image/png" href="static/images/weblogo.png">
  <link rel="stylesheet" href="../static/css/styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    .copy-msg {
      color: white;
      font-size: 0.9rem;
      margin-top: 10px;
      display: none;
      text-align: center;}
  </style>
</head>

<body>
  <section>
    <nav class="navbar">
      <ul class="nav-links">
        <li><a href="{{ url_for('index') }}">Home</a></li>
        <li><a href="{{ url_for('profile') }}">Profile</a></li>
        <li>
          <a>Works</a>
          <ul class="dropdown">
            <li><a href="{{ url_for('areacircle') }}">Area of a Circle</a></li>
            <li><a href="{{ url_for('areatriangle') }}">Area of a Triangle</a></li>
            <li><a href="{{ url_for('touppercase') }}">Convert to Uppercase</a></li>
          </ul>
        </li>
      </ul>
      <div class="nav-right">
        <span id="contactTrigger" class="brand">ROBSTIIIN.</span>
      </div>
    </nav>
  </section>


  <section id="contactPopup" class="hero-popup" style="display: none;">
    <div class="hero-content">
      <h1>Contact Me!</h1>
      <p><br>
        Course: <b><u>Bachelor of Science in Computer Engineering</u></b><br>
        School: <a href="https://www.pup.edu.ph"><b><u>Polytechnic University of the Philippines, Sta. Mesa, Manila</u></b></a><br>
        Student Number: <b><u>2024-03866-MN-0</u></b> | Year & Section: <b><u>BSCpE 2-3</u></b><br><br>

        <i>Come say Hello! â†’ </i>
        <a href="mailto:robaustinvera@gmail.com"><b><u>Personal Email</u></b></a> |
        <a href="mailto:robaustinlvera@iskolarngbayan.pup.edu.ph"><b><u>Institution Email</u></b></a><br>
        Contact Number: <b><u>0962 711 3072</u></b><br>
        Discord: <a href="https://discord.com/users/715487925147795466"><b><u>robstiiin_</u></b></a> |
        Facebook: <a href="https://www.facebook.com/RobAustin07"><b><u>Rob Austin</u></b></a> |
        Instagram: <a href="https://www.instagram.com/robaustin._"><b><u>@robaustin._</u></b></a><br><br>
      </p>
      <button id="closePopup">Close</button>
    </div>
  </section>

  <section class="hero">
    <div class="hero-content">
      <h1>Infix to Postfix Converter</h1>
      <p>Input any infix expression and get its postfix instantly!</p>

      <input type="text" id="expression" placeholder="Enter infix expression (e.g., A + B * C)" autocomplete="off">
      <p class="output" id="postfixDisplay"></p>

      <div class="button-container">
        <button id="copyBtn">Copy Text</button>
        <button id="clearBtn">Clear Text</button>
      </div>
    </div>
  </section>

  <script>
    function infixToPostfix(expr) {
      const precedence = { '+': 1, '-': 1, '*': 2, '/': 2, '^': 3 };
      let stack = [];
      let output = [];
      expr = expr.replace(/\s+/g, '');

      for (let char of expr) {
        if (/[a-zA-Z0-9]/.test(char)) {
          output.push(char);
        } else if (char === '(') {
          stack.push(char);
        } else if (char === ')') {
          while (stack.length && stack[stack.length - 1] !== '(') {
            output.push(stack.pop());}
          stack.pop();
        } else if (precedence[char]) {
          while (
            stack.length &&
            stack[stack.length - 1] !== '(' &&
            precedence[stack[stack.length - 1]] >= precedence[char]
          ) {
            output.push(stack.pop());
          }
          stack.push(char);
        }}
      while (stack.length) output.push(stack.pop());
      return output.join(' ');}

    const input = document.getElementById('expression');
    const output = document.getElementById('postfixDisplay');
    const copyBtn = document.getElementById('copyBtn');
    const clearBtn = document.getElementById('clearBtn');

    input.addEventListener('input', () => {
      output.textContent = input.value ? infixToPostfix(input.value) : '';});

    copyBtn.addEventListener('click', async () => {
      const text = output.textContent.trim();
      if (text) {
        await navigator.clipboard.writeText(text);
        copyBtn.textContent = 'Copied!';
        setTimeout(() => (copyBtn.textContent = 'Copy Text'), 1500);}});

    clearBtn.addEventListener('click', () => {
      input.value = '';
      output.textContent = '';});


    const contactTrigger = document.getElementById('contactTrigger');
    const contactPopup = document.getElementById('contactPopup');
    const closePopup = document.getElementById('closePopup');

    contactTrigger.addEventListener('click', () => {
      contactPopup.style.display = 'flex'; });

    closePopup.addEventListener('click', () => {
      contactPopup.style.display = 'none';});

    contactPopup.addEventListener('click', (e) => {
      if (e.target === contactPopup) contactPopup.style.display = 'none';});
  </script>

  <footer class="footer">
    <p>&copy; 2025 Rob Austin. All rights reserved.</p>
  </footer>
</body>
</html>